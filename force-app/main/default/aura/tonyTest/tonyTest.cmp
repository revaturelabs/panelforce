<aura:component controller="ConductPanelApexController" implements="flexipage:availableForRecordHome,force:hasRecordId" access="global" >
    <lightning:button variant="neutral" label="start" name="start" onclick="{!c.startTimer}" class="slds-m-top_medium" />
    
    <aura:attribute name="ConsentedToRecording" default="true" type="Boolean" />
    
    <aura:handler name="init" value="{!this}" action="c.doInit" />  
    <!--    
    <aura:handler name="change" value="{!v.Assessment.Comment__c}" action="{!c.handleSave}" update="change" />
-->    
    
    <aura:attribute name="AssessmentId" type="Object"/>
    <aura:attribute name="Assessment" type="Object"/>
    <aura:attribute name="AssessmentLoaderError" type="String"/>
    <force:recordData aura:id="AssessmentLoader"
                      recordId="{!v.AssessmentId}"
                      fields="Contact__r.Name, Panelist__r.Name, TrainingTrack__r.Name, Interview_Date__c, Interview_Start__c, Comment__c, OverallPass__c, InternetConnectivity__c, InterviewDuration__c, PanelRound__c, RecordingConsent__c, RecordingLink__c, Score_Total__c"
                      targetFields="{!v.Assessment}"
                      targetError="{!v.AssessmentLoaderError}"
                      mode="EDIT"
                      />
    <div style="max-width: 910px;"> <!-- Please leave this div as it is needed to mimic actual component size. -->
        <lightning:card title="General Panel Information">
            Info Here
            <!-- Don't forget about your friend: Mr. SLDS -->
        </lightning:card>
        
        <lightning:card aura:id="AssessmentEditorForce" iconName="standard:account" title="Assessment" >
            <div class="slds-grid slds-gutters">
                
                <div class="slds-col">
                    <br/>
                    <p class="slds-text-heading--medium">Associate: <lightning:formattedText title="Contact" value="{!v.Assessment.Contact__r.Name}" /></p>
                    <hr />
                    <p class="slds-text-heading--medium">Panelist: <lightning:formattedText title="Panelist" value="{!v.Assessment.Panelist__r.Name}" /></p>
                    <hr />
                    <p class="slds-text-heading--medium">Training Track: <lightning:formattedText title="TrainingTrack" value="{!v.Assessment.TrainingTrack__r.Name}" /></p>
                    <hr />
                    <p class="slds-text-heading--medium" >Panel Round: <ui:inputText class="field" value="{!v.Assessment.PanelRound__c}" updateOn="keyup" /></p>
                    <br/><hr />
                    Consent for Recording given: <lightning:buttonIconStateful iconName="utility:like" selected="{! v.ConsentedToRecording__c }" onclick="{! c.handleSave }" alternativeText="Not Given" />
                    <br/><br/>
                    <p class="slds-text-heading--medium" >Recording Link: <ui:inputText class="field" value="{!v.Assessment.RecordingLink__c}"  updateOn="keyup"/></p>
                    <hr /><hr/>
                    <p class="slds-text-heading--medium">Overall Pass: 
                        <lightning:button variant="destructive" label="Re-panel" title="Repanel" onclick="{! c.handleSave }"  />
                        <lightning:button variant="success" label="Pass" title="Pass" onclick="{! c.handleSave }"  />
                    </p>
                </div>
                <div class="slds-col">
                    <br/>
                    <p class="slds-text-heading--medium">Panel Date: <lightning:formattedText title="Interview_Date__c" value="{!v.Assessment.Interview_Date__c}" /></p>
                   
                    
                    <hr />
                    <p class="slds-text-heading--medium">Start Time: <lightning:formattedTime title="Interview_Start__c" value="{!v.Assessment.Interview_Start__c}" hour="2-digit" minute="2-digit" /></p>
                    <hr />
                    <p class="slds-text-heading--medium" >Interview Duration: <ui:inputText class="field" value="{!v.Assessment.InterviewDuration__c}" updateOn="keyup"/></p>
                    <hr/>
                    <p class="slds-text-heading--medium" >Comment: <ui:inputText class="field" value="{!v.Assessment.Comment__c}" updateOn="keyup"/></p>
                    <br/><hr/>
                    <lightning:inputField fieldName="InternetConnectivity" />
                    <p>
                        <lightning:select aura:id="select" name="select" label="Internet Connectivity" onchange="{!c.handleSave}">
                            <option value="">choose one...</option>
                            <option value="apple">apple</option>
                            <option value="pumpkin">pumpkin</option>
                            <option value="cherry">cherry</option>
                            <option value="blueberry">blueberry</option>
                            <option value="pickle">pickle</option>
                        </lightning:select>
                    </p>
                    <br/>
                    <hr />
                    
                    <hr />
                    <p class="slds-text-heading--medium" >Total Score: <ui:inputNumber class="field" value="{!v.Assessment.Score_Total__c}" updateOn="keyup" /></p>
                    
                </div>
            </div>
            
        </lightning:card>
        <hr />
        <lightning:button variant="Brand" label="Save" title="Save" onclick="{! c.handleSave }"/>
        
    </div>
</aura:component>